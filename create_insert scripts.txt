create table student
(
    sid      integer     not null
        constraint pk_student
            primary key,
    name    varchar(50) not null,
    surname varchar(50) not null,
    idzach  varchar(20) not null,
    idgrou  varchar(10) not null,
    age     integer
);

create table course
(
    id   integer generated by default as identity
        constraint pk_course
            primary key,
    name varchar(50) not null,
    pass integer     not null
        constraint course_pass_key
            unique
);

create table teacher
(
    tid      integer     not null
        constraint pk_teacher
            primary key,
    name    varchar(50) not null,
    surname varchar(50) not null
);

create table student_course
(
    student_id integer not null
        constraint fk_student_course_s
            references student,
    course_id  integer not null
        constraint fk_student_course_c
            references course,
    constraint pk_student_course
        primary key (student_id, course_id)
);

create table teacher_course
(
    teacher_id integer not null
        constraint fk_teacher_course_t
            references teacher,
    course_id  integer not null
        constraint fk_teacher_course_c
            references course,
    constraint pk_teacher_course
        primary key (teacher_id, course_id)
);

create table journal
(
    sid        integer                                        not null
        constraint journal_student_id_fk
            references student,
    cid        integer                                        not null
        constraint journal_course_id_fk
            references course,
    jdate      timestamp default timezone('utc'::text, now()) not null,
    mark       integer,
    attendance varchar(1),
    homework varchar(255),
    work_completed int,
    constraint pk_journal
        primary key (sid, cid, jdate)
);


insert into course(name, pass) values ('Python🐍', 123123123);
insert into course(name, pass) values ('C#',321321321);
insert into course(name, pass) values ('Java',90909090);
insert into course(name, pass) values ('Database design',210610003);
insert into course(name, pass) values ('Methods of optimizations',119019);


insert into journal(sid, cid, mark, attendance, homework, work_completed) VALUES (1, 1, 2, 'n', 'print hello world!', 0);



